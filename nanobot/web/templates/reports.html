{% extends "base.html" %}
{% block title %}Reports - K&amp;P Marketing{% endblock %}
{% block content %}
<h2 class="text-2xl font-bold text-kp-blue mb-6">Intelligence Reports</h2>

<div class="bg-white rounded-xl shadow-sm p-4 mb-6">
    <div>
        <label class="block text-sm font-medium text-kp-dark mb-1">Type</label>
        <select onchange="window.location='?type='+this.value"
                class="w-full sm:w-48 rounded-lg border border-gray-300 px-3 py-2 text-sm text-kp-dark focus:border-kp-blue focus:ring-1 focus:ring-kp-blue outline-none transition-colors duration-200">
            <option value="" {% if current_type == 'all' %}selected{% endif %}>All</option>
            <option value="daily" {% if current_type == 'daily' %}selected{% endif %}>Daily</option>
            <option value="weekly" {% if current_type == 'weekly' %}selected{% endif %}>Weekly</option>
            <option value="monthly" {% if current_type == 'monthly' %}selected{% endif %}>Monthly</option>
        </select>
    </div>
</div>

<div class="bg-white rounded-xl shadow-sm overflow-hidden">
    <table class="w-full text-sm">
        <thead>
            <tr class="bg-kp-light border-b border-gray-100">
                <th class="text-left px-4 py-3 text-kp-blue font-semibold text-xs uppercase tracking-wide">Date</th>
                <th class="text-left px-4 py-3 text-kp-blue font-semibold text-xs uppercase tracking-wide">Type</th>
                <th class="text-left px-4 py-3 text-kp-blue font-semibold text-xs uppercase tracking-wide">Title</th>
                <th class="text-left px-4 py-3 text-kp-blue font-semibold text-xs uppercase tracking-wide">Actions</th>
            </tr>
        </thead>
        <tbody>
            {% for report in reports %}
            <tr class="border-b border-gray-100 hover:bg-gray-50 transition-colors duration-200">
                <td class="px-4 py-3 text-kp-text">{{ report.created_at }}</td>
                <td class="px-4 py-3 text-kp-text">{{ report.report_type }}</td>
                <td class="px-4 py-3 text-kp-dark">{{ report.title }}</td>
                <td class="px-4 py-3">
                    <a href="/reports/{{ report.id }}" class="text-sm px-3 py-1 rounded-lg border border-kp-blue text-kp-blue hover:bg-kp-blue hover:text-white transition-colors duration-200 inline-block">View</a>
                </td>
            </tr>
            {% endfor %}
            {% if not reports %}
            <tr><td colspan="4" class="px-4 py-8 text-center text-kp-text">No reports found.</td></tr>
            {% endif %}
        </tbody>
    </table>
</div>
{% endblock %}
